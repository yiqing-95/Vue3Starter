
<script setup>
    import { storeToRefs } from 'pinia'

    import { useCounterStore , useCounterStore2} from '~/modules/pinia-demo/store/counter.js'

    const counter = useCounterStore()
    counter.count = 1

    setTimeout(()=> {
        counter.count ++

        counter.increment()

        counter.$patch({
            counter: counter.count +3
        })

    }, 5000)

    const counter2 = useCounterStore2()

    // ç›´æ¥è§£æ„count
    // NOTE å‘çˆ¹çš„æ˜¯ æ–¹æ³•å¦‚æœè§£æ„ åˆå¯ä»¥ç›´æ¥è§£ ä¸éœ€è¦toRefs ğŸ˜‚
    const {count} = storeToRefs(counter) // åªé’ˆå¯¹ stateå’Œgetters 
    const {increment} = counter

</script>

<template>
    <div>
        <button @click="counter.increment()">+1</button>
        {{ counter.count }}
        {{ counter.doubleCount }}
        // ç›´æ¥ä½¿ç”¨è§£æ„åçš„æ•°æ®
        {{ count }}
        <button @click="increment()">+1</button>
        <br>
        <button @click="counter2.increment()">+1</button>
        {{ counter2.count }}
        {{ counter2.doubleCount }}

    </div>
</template>

<style lang="scss" scoped>

</style>